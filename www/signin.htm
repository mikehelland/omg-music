<!DOCTYPE html>
<html>

<head>
   <link rel="stylesheet" type="text/css" href="css/main.css">
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
   <style>
      .invalid-login, .invalid-signup {color:red; display:none;}
   </style>
</head>

<body>

<header>
   <a class="main-page-link" href="index.htm">
      <span class="main-title-open">Open</span><span class="main-title-media">Music</span><span class="main-title-gallery">.Gallery</span>
   </a>   
</header>

<div class="main-body">

    <h2>
        Login
    </h2>

    <p>If you have an account already, login here:</p>

    <div class="invalid-login">Username or password is wrong.</div>

    <form action="/login" method="post">
        <input name="username" type="text" placeholder="username"/>
        <input name="password" type="password" placeholder="password"/>
        <input type="submit" value="Login"/>
        <input id="login-fwd" name="fwd" type="hidden" value=""/>
    </form>
    
    <hr>
      
   <h2>
      Signup
   </h2>

   <p>Create a new account. Just a username and password, that's it!</p>

   <div class="invalid-signup">Username already exists.</div>

   <form action="/signup" method="post">
      <input name="username" type="text" placeholder="username"/>
      <input name="password" type="password" placeholder="password"/>
      <input type="submit" value="Signup"/>
      <input id="signup-fwd" name="fwd" type="hidden" value=""/>
   </form>

</div> <!--main-body-->
<script>
var q = window.location.search
if (q.indexOf("invalid-login") > -1) {
   document.getElementsByClassName("invalid-login")[0].style.display = "block";
}
if (q.indexOf("invalid-signup") > -1) {
   document.getElementsByClassName("invalid-signup")[0].style.display = "block";
}
if (q.indexOf("fwd=") > -1) {
   var fwd = q.substr(q.indexOf("fwd=") + 4)
   if (fwd.indexOf("&") > -1) {
      fwd = fwd.substr(0, fwd.indexOf("&"))
   }
   document.getElementById("signup-fwd").value = fwd
   document.getElementById("login-fwd").value = fwd
}
</script>
</body>
</html>
